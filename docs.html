<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª | Ù…Ø´Ø§Ø¹Ù„ Ù„Ù„Ø¹ÙˆØ¯</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
margin:0;
font-family:'Tajawal',sans-serif;
background:#000;
color:#fff;
padding:20px;
}

h1{
text-align:center;
margin-bottom:20px;
}

.invoice{
background:#111;
padding:20px;
border-radius:15px;
white-space:pre-wrap;
margin-bottom:20px;
border:1px solid #222;
}

input{
width:100%;
padding:12px;
border-radius:10px;
border:none;
margin-bottom:15px;
font-size:16px;
}

.send-btn{
background:#0d3b66;
color:#fff;
border:none;
padding:14px;
width:100%;
border-radius:12px;
cursor:pointer;
font-size:16px;
}

.send-btn:hover{
background:#155fa0;
}

.back-btn{
display:block;
text-align:center;
margin-top:15px;
color:#7a1414;
text-decoration:none;
font-weight:bold;
}
</style>
</head>
<body>

<h1>ðŸ›’ Ø³Ù„Ø© Ø·Ù„Ø¨Ø§ØªÙƒ</h1>

<div class="invoice" id="invoiceBox"></div>

<input type="text" id="customerName" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§">

<button class="send-btn" onclick="sendOrder()">
ðŸ“© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨
</button>

<a href="elite.html" class="back-btn">
â¬… Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØªØ³ÙˆÙ‚
</a>

<script>

let cart = JSON.parse(localStorage.getItem("cart")) || [];

function renderInvoice(){

let box=document.getElementById("invoiceBox");
let customer=document.getElementById("customerName").value || "{Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„}";
let total=0;

let text="Â»             ï´¿ Ø·Ù„Ø¨ Ù…Ø´Ø§Ø¹Ù„ Ù„Ù„Ø¹ÙˆØ¯ ï´¾\n";
text+="âŽ” â‹… â”€â”€â”€â”€â”€â” â€¢    âƒŸï·½ â€¢ â”â”€â”€â”€â”€â”€ â‹… âŽ”\n";

cart.forEach(item=>{
text+=`âŒ¯â¤¿ ${item.name} â†« ${item.qty} â†« ${item.price} Ø±ÙŠØ§Ù„\n`;
total+=item.price;
});

text+="âŽ” â‹… â”€â”€â”€â”€â”€â” â€¢    âƒŸï·½ â€¢ â”â”€â”€â”€â”€â”€ â‹… âŽ”\n";
text+=`âŒ¯â¤¿ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ â†« ${total} Ø±ÙŠØ§Ù„\n`;
text+=`âŒ¯â¤¿ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ â†« ${customer}\n`;
text+="ÙØ¶Ù„Ø§Ù‹ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø«Ù… Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªØ³Ù„ÙŠÙ…\n";
text+="âŽ” â‹… â”€â”€â”€â”€â”€â” â€¢    âƒŸï·½ â€¢ â”â”€â”€â”€â”€â”€ â‹… âŽ”\n";
text+="Ù…ØªØ¬Ø± Ù…Ø´Ø§Ø¹Ù„ Ù„Ù„Ø¹ÙˆØ¯ ðŸª·";

box.textContent=text;
}

function sendOrder(){

let customer=document.getElementById("customerName").value;
if(customer===""){
alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø£ÙˆÙ„Ø§Ù‹");
return;
}

let total=0;
let text="Â»             ï´¿ Ø·Ù„Ø¨ Ù…Ø´Ø§Ø¹Ù„ Ù„Ù„Ø¹ÙˆØ¯ ï´¾\n";
text+="âŽ” â‹… â”€â”€â”€â”€â”€â” â€¢    âƒŸï·½ â€¢ â”â”€â”€â”€â”€â”€ â‹… âŽ”\n";

cart.forEach(item=>{
text+=`âŒ¯â¤¿ ${item.name} â†« ${item.qty} â†« ${item.price} Ø±ÙŠØ§Ù„\n`;
total+=item.price;
});

text+="âŽ” â‹… â”€â”€â”€â”€â”€â” â€¢    âƒŸï·½ â€¢ â”â”€â”€â”€â”€â”€ â‹… âŽ”\n";
text+=`âŒ¯â¤¿ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ â†« ${total} Ø±ÙŠØ§Ù„\n`;
text+=`âŒ¯â¤¿ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ â†« ${customer}\n`;
text+="âŽ” â‹… â”€â”€â”€â”€â”€â” â€¢    âƒŸï·½ â€¢ â”â”€â”€â”€â”€â”€ â‹… âŽ”\n";
text+="Ù…ØªØ¬Ø± Ù…Ø´Ø§Ø¹Ù„ Ù„Ù„Ø¹ÙˆØ¯ ðŸª·";

let phone="+212601432914";

let url="https://wa.me/"+phone+"?text="+encodeURIComponent(text);

window.open(url,"_blank");

localStorage.removeItem("cart");

setTimeout(()=>{
alert("Ø´ÙƒØ±Ø§Ù‹ Ù„Ø·Ù„Ø¨Ùƒ ðŸ’—");
location.href="index.html";
},1000);

}

renderInvoice();

</script>

</body>
</html>